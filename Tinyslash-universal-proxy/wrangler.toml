name = "tinyslash-proxy"
main = "src/index.js"
compatibility_date = "2024-01-01"

# Environment variables
[vars]
BACKEND_URL = "https://urlshortner-1-hpyu.onrender.com"
PROXY_VERSION = "2.0"
CACHE_TTL = "300"

# Production environment
[env.production]
name = "tinyslash"
vars = { BACKEND_URL = "https://urlshortner-1-hpyu.onrender.com", PROXY_VERSION = "2.0" }

# Development environment
[env.development]
name = "tinyslash-proxy-dev"
vars = { BACKEND_URL = "http://localhost:8080", PROXY_VERSION = "2.0-dev" }

# Custom domain routes for the worker
# Note: Routes will be added after tinyslash.com is active in Cloudflare
# Uncomment and update after domain is verified:
# routes = [
#   { pattern = "tinyslash.com/*", zone_name = "tinyslash.com" }
# ]

# Analytics and monitoring
[observability]
enabled = true